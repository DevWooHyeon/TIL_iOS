# TIL
### Metatype 이란?

<img width="930" alt="스크린샷 2023-11-07 오후 11 37 22" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/1fb7132f-3415-42d8-acf9-a23185c65062">   
       
**공식문서에는 클래스, 구조체, 열거형 및 프로토콜 타입을 포함한 모든 `타입의 타입` 이라고 나와있습니다.**   

메타 타입은 타입 자체를 가리켜야 하는 경우에 사용합니다.     
보통은 타입의 인스턴를 만들어 사용하지만 UIkit에 구현된 메서드들 중 메타타입(타입의 타입)을 요구하는 경우가 있습니다.    

먼저 메타 타입에 대해서 코드로 알아보겠습니다!   
~~~ swift
struct Car {
    static let name = "car"
    let price = 30
}

let car = Car()
~~~
위의 예시코드에서 `Car`타입을 만들었습니다. 그리고 car상수에 인스턴스를 생성하여 할당 하고 있습니다.

일반적으로 price 라는 `property`에 접근하는 방법은 아래의 코드와 같습니다.
~~~ swift
let car = Car()

car.price
~~~

그렇다면 `static property`인 name에는 어떻게 접근 할 수 있을까요??
~~~ swift
Car.name
~~~
위의 코드처럼 타입의 이름만 알고 있다면 타입 프로퍼티에 접근 할 수 있었습니다.   

하지만 우리가 자주 사용하는 타입 프로퍼티 접근 방식에 사실 `.self`가 숨어 있습니다.    
아래의 코드처럼 말이죠!!
~~~ swift
Car.self.name
~~~

`Car.self`는 타입 자체를 가리키고 메타타입은 타입의 타입이라고 했으니까 `Car.self`를 변수에 담아 타입을 확인해 보겠습니다.  

`Car.Type`이라는 타입입니다. 이게 바로 Car타입의 메타타입 입니다.   
<img width="432" alt="스크린샷 2023-11-08 오전 1 12 14" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/f2bde687-0305-4681-b214-74d66d8a8de9">




***
### 참고자료
- [Swift Language Guide - Types](https://developer.apple.com/documentation/swift/type(of:)/)
- [Swift Standard Library - type(of:)](https://developer.apple.com/documentation/swift/type(of:))
- [Blog - Swift Metatype 이란? (.Type, .self, .Protocol)](https://onelife2live.tistory.com/49)
- [Blog - Swift Metatype 이란?](https://woozzang.tistory.com/160)
- [Blog - Swift Metatype(.self, .Type, .Protocol) 정복하기 (1/2)](https://babbab2.tistory.com/151)
- [Blog - Swift Metatype(.self, .Type, .Protocol) 정복하기 (2/2)](https://babbab2.tistory.com/152)
