# TIL

### 🔥 HTTP Method 란?

HTTP Method 는 클라이언트가 서버에게 어떤 동작을 원하는지를 나타내는 방식입니다.

즉, 서버에 주어진 리소스에 수행하길 원하는 행동이나 서버가 수행해야 할 동작을 지정하는 요청을 보내는 방법입니다.

#### ✅ HTTP Method 의 종류

**주요 메서드**
- GET : 리소스 조회
- POST : 요청 데이터 처리, 주로 등록에 사용
- PUT : 리소스를 대체, 해당 리소스가 없으면 생성
- PATCH : 리소스 부분 변경
- DELETE : 리소스 삭제

**기타 메서드**
- HEAD : GET과 동일하지만 메시지 부분을 제외하고 상태 줄과 헤더만 반환
- OPTIONS : 대상 리소스에 대한 통신 가능 옵션(메서드)을 설명(주로 CORS에서 사용)
- CONNECT : 대상 리소스로 식별되는 서버에 대한 터널을 설정
- TRACE : 대상 리소스에 대한 경로를 따라 메시지 루프백 테스트를 수행

***

### 🔥 GET

GET 메서드는 서버로부터 데이터를 요청하는 데 사용되는 메서드입니다. 

클라이언트는 GET 요청을 통해 특정 리소스에 대한 정보를 요청하며 이때 서버는 해당 리소스를 응답으로 제공합니다. 

GET 요청은 보통 웹 브라우저를 통해 주소 표시줄에 URL을 입력하거나 링크를 클릭할 때 사용됩니다.

- GET 요청 예시
~~~
GET /search?q=hello&hi=ko HTTP/1.1
Host: www.google.com
~~~

**message-body 를 사용해서 데이터를 전달할 수 있지만 지원하지 않는 곳이 많아 권장하지 않습니다.**

***

### 🔥 POST

POST 메서드는 클라이언트가 서버로 데이터를 보내기 위해 사용되는 메서드입니다. 

POST 요청은 데이터를 HTTP 요청 본문(body)에 담아 서버로 전송하며 이를 통해 클라이언트는 서버에게 어떤 특정한 동작을 수행하도록 요청할 수 있습니다. 

POST는 주로 사용자가 어떤 데이터를 서버에 제출할 때나 리소스를 생성하는 데에 활용됩니다.

즉, POST 메서드는 클라이언트가 서버로 데이터를 전송하고 이를 통해 서버는 클라이언트의 요청에 따라 특정 프로세스를 처리하거나 리소스를 생성하는 데 사용됩니다.

- POST 요청 예시
~~~
POST /members HTTP/1.1
Content-Type: application/json

{
    "username": "hello",
    "age": 20
}
~~~

***

### 🔥 PUT

PUT 메서드는 클라이언트가 서버에게 리소스를 업데이트하도록 요청하는 메서드입니다. 

PUT 요청은 주로 클라이언트가 서버에게 지정된 URI에 새로운 리소스를 저장하거나 기존의 리소스를 갱신하기 위해 사용됩니다.

즉, 지정된 URI에 새로운 데이터를 덮어쓴다고 생각하면 됩니다.

PUT 메서드는 일반적으로 클라이언트가 서버에게 리소스를 업데이트하거나 생성하는 데에 사용되며 이를 통해 `RESTful API` 에서 데이터를 관리하는 데에도 자주 사용됩니다.

PUT 메서드와 POST 메서드의 중요한 차이점이 있습니다.

PUT 메서드는 클라이언트가 리소스 위치를 알고 URI를 지정하지만,

POST 메서드는 리소스의 위치를 모르기 때문에 어떻게 처리할지 리소스마다 따로 정해야한다는 차이점이 있습니다.

- PUT 메서드 요청 예시
~~~
PUT /members/100 HTTP/1.1
Content-Type: application/json

{
    "username": "hello",
    "age": 20
}
~~~

***

### 🔥 PATCH

PATCH 메서드는 클라이언트가 서버에게 리소스의 일부를 수정하도록 요청하는 메서드입니다. 

PUT 메서드와 유사하지만 PATCH 메서드는 리소스의 일부를 업데이트하는 데에 사용됩니다.

전체 리소스를 업데이트하는 PUT 메서드와는 다른 의미를 가지고 있습니다.

- PATCH 메서드 요청 예시
~~~
// 서버에 있는 리소스
{
    "username": "hello",
    "age": 20
}
~~~

~~~
// PATCH 요청시 "age"에 대한 value만 수정 가능
PATCH /members/100 HTTP/1.1
Content-Type: application/json

{
    "age": 50
}
~~~

***

### 🔥 DELETE

DELETE 메서드는 클라이언트가 서버에게 특정 리소스를 삭제하도록 요청하는 메서드입니다. 

DELETE 요청을 통해 클라이언트는 서버에서 해당 리소스를 제거하도록 요청하고 이를 통해 데이터의 삭제나 리소스의 해제 등을 수행할 수 있습니다.

- DELETE 메서드 요청 예시
~~~
// /members/100 경로에 있는 리소스 삭제
DELETE /members/100 HTTP/1.1
Host: localhost:8080
~~~

***

### 🔥 HTTP 메서드의 속성

#### ✅ Safe(안전)

HTTP 메서드의 안전성은 해당 메서드가 서버의 상태를 변경하지 않는다는 특성을 나타냅니다. 

즉, 안전한 메서드는 리소스를 읽거나 검색하는 용도로만 사용되고 서버의 상태나 데이터를 수정하거나 삭제하지 않습니다. 

안전한 메서드를 사용하면 클라이언트는 읽기 작업을 수행할 때 예상치 못한 부작용을 걱정할 필요가 없습니다.

**특징**

- 읽기 전용
  - 안전한 메서드는 주로 리소스를 읽거나 검색하는데 사용됩니다.
  - 서버의 상태나 데이터를 변경하지 않아 여러번 호출하더라도 동일한 결과를 얻을 수 있습니다.

- 멱등성
  - 안전한 메서드는 멱등성을 가집니다.
  - 멱등성은 동일한 요청을 여러번 보내더라도 항상 동일한 결과가 나오는 특성을 의미합니다.
  - 안전한 메서드는 서버의 상태를 변경하지 않으므로 멱등성을 가집니다.

**안전한 메서드**

- GET
  - 리소스를 가져오기 위해 사용되고 서버의 상태를 변경하지 않으며 읽기 전용 작업에 사용됩니다.

- HEAD
  - GET과 유사하지만 응답 본문이 아닌 헤더만을 반환합니다.
  - 리소스의 메타데이터를 확인하기 위해 사용됩니다.
 
***

#### ✅ Idempotent(멱등)

멱등성은 동일한 요청을 여러 번 수행해도 결과가 항상 동일하게 유지되는 특성을 나타냅니다. 

또한 여러 번의 요청이 동일한 효과를 가져오는 것을 보장하여 시스템의 안정성과 예측 가능성을 높이는 중요한 속성입니다.

멱등성은 서버의 상태나 데이터에 영향을 주는 작업에서 중요하고 이 특성을 가진 메서드는 동일한 요청을 여러 번 수행하더라도 항상 동일한 결과를 보장합니다.

**멱등성을 가진 메서드**

- GET
  - 리소스를 가져오기 위한 메서드로 멱등성을 가집니다.
  - 여러 번 호출해도 리소스의 상태가 변경되지 않습니다.

- PUT
  - 리소스를 업데이트하거나 새로운 리소스를 생성하는 메서드이며 멱등성을 가집니다.
  - 동일한 데이터로 여러 번 PUT을 호출하더라도 결과는 동일합니다.

- DELETE
  - 리소스를 삭제하는 메서드로 멱등성을 가집니다.
  - 이미 삭제된 리소스를 다시 삭제하더라도 결과는 동일합니다.
~~~
- POST 
  - 일반적으로 멱등성을 가지지 않습니다.
  - POST는 주로 리소스를 생성하는 데 사용되며 동일한 데이터로 여러 번 호출하면 각각 다른 리소스가 생성될 수 있습니다.
~~~

***

#### ✅ Cacheable(캐시가능)

Cacheable 속성은 서버 응답을 클라이언트 측에서 캐시에 저장할 수 있는지 여부를 나타냅니다. 

캐시는 이전에 가져온 리소스를 재사용하여 네트워크 대역폭을 절약하고 응답 시간을 단축하는데 사용됩니다.

**캐시 가능 메서드**

- GET
  - GET 메서드는 주로 리소스를 가져오기 위해 사용되며 캐시가능한 메서드 중 하나입니다.
  - 응답이 캐시에 저장될 수 있고 캐시된 응답이 있는 경우 재사용될 수 있습니다.

- HEAD
  - HEAD 메서드는 GET과 유사하지만 응답 본문을 포함하지 않고 헤더만을 반환합니다.
  - 따라서 GET과 동일하게 캐시가능합니다.

- POST
  - POST 메서드는 리소스를 생성하거나 업데이트하기 위해 사용되므로, 기본적으로는 안전하지 않은 메서드이며 캐시되지 않습니다.
  - 그러나 몇 가지 예외 상황에서는 캐시될 수 있습니다.
  - 만약 Cache-Control 헤더에 public 지시어가 있거나 서버가 캐시를 허용하는 경우에는 POST 요청도 캐시될 수 있습니다.
    
- PATCH
  - PATCH 메서드는 일반적으로는 안전하지 않고 멱등성을 가지지만 캐시가능하지 않은 메서드입니다.
  - 그러나 HTTP 표준은 PATCH 메서드를 캐시 가능하게 사용할 수 있도록 허용하고 있습니다.

**캐시 불가능 메서드**

- PUT
  - PUT 메서드는 리소스를 업데이트하거나 새로운 리소스를 생성하므로 일반적으로는 캐시되지 않습니다.
  - PUT은 안전하지 않은 메서드이며 멱등성을 가지기 때문에 보통 임의의 업데이트를 방지하기 위해 캐시되지 않습니다.

- DELETE
  - DELETE 메서드는 리소스를 삭제하는 용도로 사용되며 일반적으로는 캐시되지 않습니다.
  - DELETE 역시 안전하지 않은 메서드이고 멱등성을 가지므로 여러번 호출되더라도 동일한 결과가 나옵니다.
  - 하지만 보통 리소스 삭제를 막기 위해서 캐시되지 않습니다.

***

#### ✅ 요약표
<img width="650" alt="스크린샷 2023-12-14 오전 6 51 46" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/9c5ef3c7-019f-41d5-ae4d-bd76d4967734">

***

### ⚠️ 참고자료
- [위키백과 - HTTP](https://ko.wikipedia.org/wiki/HTTP)
