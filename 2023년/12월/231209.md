# TIL

### 🔥 IP(internet protocol)

**역할**

- 지정한 IP 주소(IP Address)에 데이터 전달

- 패킷(Packet) 이라는 통신 단위로 데이터 전달

**인터넷 프로토콜의 한계**

- 비연결성 : 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송

- 비신뢰성 : 만약 중간에 패킷이 사라지면? 또는 패킷이 순서대로 안오면?

- 프로그램 구분 : 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?

**IP 패킷 정보 - 출발지 IP 목적지 IP 등..**

***

### 🔥 TCP(Transmission Control Protocol) - 전송제어프로토콜

IP 패킷의 정보는 출발지 IP 목적지 IP 등..이 있고 

위에서 설명한 IP 의 한계점을 TCP 를 사용하면 해결할 수 있습니다.

먼저 인터넷 프로토콜 스택의 4계층에 대해서 알아보겠습니다.

<img width="1000" alt="스크린샷 2023-12-10 오후 9 14 36" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/dabfde00-fb42-496f-b77a-609dce359d23">

`네트워크 인터페이스 계층` 은 LAN 드라이버나 LAN 카드 등 하드웨어 부분이 포함된 계층 입니다.

그 위에 `인터넷 계층` 인 IP 가 있고 그 위에 TCP / UDP 가 있는 `전송 계층`, 그 위에 우리가 사용하는 HTTP, FTP 가 포함되어 있는 `애플리케이션 계층`이 있습니다.

인터넷 프로토콜의 계층을 간단히 알아봤으니 TCP 에 대해서 마저 알아 보겠습니다.

#### TCP의 특징
- 연결 지향 - TCP 3 way handshake(가상연결, 논리적 연결)
- 데이터 전달 보증
- 순서 보장
- 신뢰할 수 있는 프로토콜
- 현재 대부분이 TCP 사용

**TCP/IP 패킷 정보 - 출발지 PORT, 목적지 PORT, 전송제어,  순서, 검증 정보 등..**

IP는 한계점이 있었습니다.

패킷을 받을 대상이 없거나, 서비스 불능 상태여도 패킷을 전송하고 중간에 패킷이 유실될 수도, 또 순서가 보장되지 않을 수도 있었습니다.

`TCP 3 way handshake` 를 사용해서 TCP는 위의 문제들을 해결하고 있습니다.

#### TCP 3 way handshake란?

<img width="800" alt="스크린샷 2023-12-10 오후 9 27 55" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/65fdbb10-06b9-43dc-b909-90b9ea5666bc">

데이터 전달을 보장하기 위해 서버와 논리적으로 연결되어 있는지 확인하는 과정 입니다.

먼저 `SYN : 접속 요청` 을 보내고 요청을 받은 서버는 `SYN : 접속 요청 + ACK : 요청 수락` 을 클라이언트에 보냅니다.

그럼 클라이언트는 `ACK: 요청 수락` 을 서버에 보낸 후에 데이터를 전송합니다.

**최근에는 최적화를 통해 클라이언트가 `ACK: 요청 수락` 을 보낼 때 데이터도 함께 전송한다고 합니다.**

***

### 🔥 UDP(User Datagram Protocol) - 사용자 데이터그램 프로토콜

UDP 는 TCP 와 같은 계층에 속해 있지만 기능을 거이 가지고 있지 않습니다.

데이터 전달을 보장하지 않고, 순서를 보장 하지도 않습니다.

하지만 TCP 보다 단순하고 빠르다는 장점이 있습니다.

#### UDP의 특징

- 기능이 거이 없어 IP 와 유사함

- 데이터 전달 및 순서가 보장되지 않지만 단순하고 빠름

- PORT, 체크섬 정도만 추가

- 애플리케이션에서 추가 작업 필요

하지만 최근에는 UDP가 많은 관심을 받고 있습니다.  

이유는 TCP는 현재 대부분이 사용하고 있는 프로토콜이기 때문에 최적화를 하기 쉽지 않습니다.   

하지만 UDP 는 가지고 있는 기능도 거이 없고 TCP에 비해 점유율도 떨어지기 때문에 최적화가 가능합니다.   

그래서 HTTP3 에서는 UDP 프로토콜을 사용하고 있다고 합니다.

***

### 🔥 PORT

TCP 에서 가지고 있는 정보 중 `출발지 PORT, 목적지 PORT` 가 있었습니다.

PORT에 대해서 알아 보겠습니다.

PORT는 클라이언트 PC에서 여러 서버와 통신중이라면 어떤 패킷인지 구분하기 위해 사용 합니다.

즉, 같은 IP 내에서 프로세스를 구분하기 위해 사용 되는것이 PORT 입니다.

#### 잘 알려진 포트

- FTP - 20, 21
- TELNET - 23
- HTTP - 80
- HTTPS - 443

***

### 🔥 DNS(Domain Name System) - 도메인 네임 시스템

우리는 IP를 통해 웹사이트에 접근할 수 있습니다.

하지만 IP는 일일히 기억하기 어렵고 IP가 변경되면 해당 웹사이트에 접근하지 못하는 문제가 생길 수 있습니다.

때문에 DNS를 사용해서 쉽게 IP주소로 접근이 가능합니다.

<img width="900" alt="스크린샷 2023-12-10 오후 9 50 37" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/93d35edd-e828-4ced-94e0-878121c22faf">

위의 이미지 자료 처럼 DNS 서버에서 IP 주소와 도메인 명을 매칭시켜서 가지고 있고

우리가 도메인 명으로 요청하면 해당 IP 주소를 보내줍니다.

그럼 우리는 해당 IP 주소로 접근 할 수 있게 되는 것입니다.

DNS를 통해 IP 주소를 까먹을 경우, IP 주소가 변경되는 경우의 문제를 해결할 수 있습니다.










