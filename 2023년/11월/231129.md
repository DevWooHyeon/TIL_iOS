# TIL

### ğŸ”¥ LocalizedError í”„ë¡œí† ì½œ ì´ë€?

<img width="900" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2023-11-29 á„‹á…©á„’á…® 7 58 21" src="https://github.com/DevWooHyeon/TodayILearn_TIL/assets/123448121/2161e9c4-347f-4433-be94-56c12edcde0d">

ê³µì‹ë¬¸ì„œë¥¼ ë³´ë©´ **"ì˜¤ë¥˜ì™€ ì˜¤ë¥˜ ë°œìƒ ì´ìœ ë¥¼ ì„¤ëª…í•˜ëŠ” í˜„ì§€í™”ëœ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ëŠ” íŠ¹ìˆ˜ ì˜¤ë¥˜"** ë¼ê³  í•©ë‹ˆë‹¤.

`LocalizedError` í”„ë¡œí† ì½œì€ ê¸°ë³¸ì ìœ¼ë¡œ `Error` í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë˜í•œ ì¶”ê°€ì ì¸ ë¡œì»¬ë¼ì´ì§•ê³¼ ì‚¬ìš©ì ì¹œí™”ì ì¸ ë©”ì‹œì§€ë¥¼ ì œê³µí•˜ê¸° ìœ„í•œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.

### ğŸ”¥ ì˜ˆì‹œì½”ë“œë¡œ ì•Œì•„ë³´ê¸°

~~~ swift
enum NameError: Error {
    case nilName
    case anotherName
}

extension NameError: LocalizedError {
    var errorDescription: String? {
        switch self {
        case .nilName:
            return "ì´ë¦„ì´ ì—†ìŠµë‹ˆë‹¤."
        case .anotherName:
            return "ë‹¤ë¥¸ ì´ë¦„ ì…ë‹ˆë‹¤."
        }
    }
}
~~~

ì—ëŸ¬íƒ€ì…ì„ ì •ì˜ í•˜ê³  í™•ì¥ì„ í†µí•´ `LocalizedError` í”„ë¡œí† ì½œì„ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

`errorDescription` í”„ë¡œí¼í‹°ì˜ ë‚´ë¶€ êµ¬í˜„ì„ í•˜ë©´ í•´ë‹¹ë˜ëŠ” ì—ëŸ¬ ì¼€ì´ìŠ¤ì˜ ìƒì„¸ ì„¤ëª…ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

LocalizedError í”„ë¡œí† ì½œì—ì„œ ì œê³µí•˜ëŠ” ê¸°ë³¸ í”„ë¡œí¼í‹°ëŠ” 4ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

~~~ swift
public protocol LocalizedError : Error {

    /// A localized message describing what error occurred.
    var errorDescription: String? { get }

    /// A localized message describing the reason for the failure.
    var failureReason: String? { get }

    /// A localized message describing how one might recover from the failure.
    var recoverySuggestion: String? { get }

    /// A localized message providing "help" text if the user requests help.
    var helpAnchor: String? { get }
}
~~~

í•˜ë‚˜ì”© ì‚´í´ë³´ë©´

~~~ swift
var errorDescription: String? { get } // ì—ëŸ¬ì— ëŒ€í•œ ì‚¬ìš©ì ì¹œí™”ì ì¸ ì„¤ëª…

var failureReason: String? { get } // ë³„ë„ì˜ ì‹¤íŒ¨ ì´ìœ ì— ëŒ€í•œ ì„¤ëª…

var recoverySuggestion: String? { get } // ë³µêµ¬ ì œì•ˆì— ëŒ€í•œ ì„¤ëª…

var helpAnchor: String? { get } // ì¶”ê°€ì ì¸ ë„ì›€ ì •ë³´
~~~

***

ê°œì¸ì ìœ¼ë¡œ ê¶ê¸ˆí–ˆë˜ ì ì€ `.localizedDescription` í”„ë¡œí¼í‹°ëŠ” Error í”„ë¡œí† ì½œë§Œ ì±„íƒí–ˆì„ ë•Œë„ ì‚¬ìš© í•  ìˆ˜ ìˆì—ˆëŠ”ë° ë¬´ìŠ¨ ì°¨ì´ì¸ê°€? ì˜€ìŠµë‹ˆë‹¤.

`.localizedDescription` í”„ë¡œí¼í‹°ëŠ” Error í”„ë¡œí† ì½œì— ì •ì˜ ë˜ì–´ ìˆê³  ê¸°ë³¸ ê°’ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

~~~ swift
enum NameError: Error {
    case nilName
    case anotherName
}  // LocalizedError í”„ë¡œí† ì½œì„ ë”°ë¡œ ì±„íƒí•˜ì§€ ì•Šì•„ë„, Error í”„ë¡œí† ì½œì—ì„œ ì œê³µí•˜ëŠ” localizedDescriptionì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

do {
    throw NameError.nilName
} catch let error as NameError {
    print(error.localizedDescription)
    // ì¶œë ¥: "The operation couldnâ€™t be completed.
}
~~~

ì´ë ‡ê²Œ `Error` í”„ë¡œí† ì½œë§Œ ì±„íƒí•˜ê³  `.localizedDescription` ì„ ì‚¬ìš©í•´ë„ ë˜ì§€ë§Œ ìƒí™©ì— ë§ëŠ” ì—ëŸ¬ ë©”ì„¸ì§€ë¥¼ ì œê³µí•˜ë ¤ë©´ `LocalizedError` í”„ë¡œí† ì½œì„ ì±„íƒí•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ì„ ê²ƒ ê°™ìŠµë‹ˆë‹¤.

***

### âš ï¸ ì°¸ê³ ìë£Œ
- [Apple Documentation - LocalizedError](https://developer.apple.com/documentation/foundation/localizederror)
- [Apple Documentation - localizedDescription](https://developer.apple.com/documentation/foundation/nserror/1414418-localizeddescription)
- [Blog - LocalizedError](https://velog.io/@hzw94/TIL-LocalizedError)
- [Blog - Error, LocalizedError, localizedDescription ê°œë…](https://ios-development.tistory.com/849)
