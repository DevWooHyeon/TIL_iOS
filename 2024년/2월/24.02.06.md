# TIL

## ğŸ”¥ Sequence ë€?
<img width="700" src="https://github.com/Developer-Nova/TIL_iOS/assets/123448121/f24b2cdc-8dbc-4c00-a8c3-c15c6e44df7c">

"í•´ë‹¹ ìš”ì†Œì— ëŒ€í•œ ìˆœì°¨ì ì´ê³  ë°˜ë³µì ì¸ ì ‘ê·¼ì„ ì œê³µí•˜ëŠ” íƒ€ì…" ì´ë¼ê³  ê³µì‹ë¬¸ì„œì—ëŠ” ë‚˜ì™€ìˆìŠµë‹ˆë‹¤.

ì¦‰, ìˆœì°¨ì ì´ê³  ë°˜ë³µì ì¸ ë™ì‘ì„ í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” í”„ë¡œí† ì½œ ì…ë‹ˆë‹¤.

<br>

### âœ… ê°œìš”

`Sequence` ëŠ” í•œë²ˆì— í•˜ë‚˜ì”© ì‹¤í–‰í•  ìˆ˜ ìˆëŠ” ê°’ì˜ ëª©ë¡ì…ë‹ˆë‹¤.

`Sequence` ì˜ ìš”ì†Œë¥¼ ë°˜ë³µí•˜ëŠ” ê°€ì¥ ì¼ë°˜ì ì¸ ë°©ë²•ì€ for-in ë£¨í”„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

~~~ swift
let oneTwoThree = 1...3
for number in oneTwoThree {
    print(number)
}
// Prints "1"
// Prints "2"
// Prints "3"
~~~

#

`Sequence` ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  `Sequence` ì—ì„œ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ìˆ˜ë§ì€ ì‘ì—…ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. 

ì˜ˆë¥¼ ë“¤ì–´ `Sequence` ì— íŠ¹ì • ê°’ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸í•˜ë ¤ë©´ ì¼ì¹˜ í•­ëª©ì„ ì°¾ê±°ë‚˜ `Sequence` ì˜ ëì— ë„ë‹¬í•  ë•Œê¹Œì§€ ê° ê°’ì„ ìˆœì°¨ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ë©´ ë©ë‹ˆë‹¤. 

ì´ ì˜ˆì œì—ì„œëŠ” íŠ¹ì • ê³¤ì¶©ì´ ë°°ì—´ì— ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

~~~ swift
let bugs = ["Aphid", "Bumblebee", "Cicada", "Damselfly", "Earwig"]
var hasMosquito = false
for bug in bugs {
    if bug == "Mosquito" {
        hasMosquito = true
        break
    }
}
print("'bugs' has a mosquito: \(hasMosquito)")
// Prints "'bugs' has a mosquito: false"
~~~

#

`Sequence` ì˜ êµ¬í˜„ì—ëŠ” ë§ì€ ë©”ì„œë“œê°€ ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ê·¸ì¤‘ í•˜ë‚˜ì¸ `contains(_:)` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ê°„ê²°í•˜ê²Œ ì½”ë“œë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

~~~ swift
if bugs.contains("Mosquito") {
    print("Break out the bug spray.")
} else {
    print("Whew, no mosquitos!")
}
// Prints "Whew, no mosquitos!"
~~~

#

ê³µì‹ë¬¸ì„œì˜ ì˜ˆì œë¥¼ ì°¸ê³ í•˜ì—¬ ë³´ë‹ˆ ìš°ë¦¬ê°€ ìì£¼ ì‚¬ìš©í•˜ëŠ” ì»¬ë ‰ì…˜ íƒ€ì… ë“± ì—¬ëŸ¬ íƒ€ì…ì´ `Sequence` ë¥¼ ì±„íƒí•˜ê³  ìˆìŠµë‹ˆë‹¤.

`Sequence` ë¥¼ ì‚¬ìš©í•˜ë©´ for-in ë£¨í”„ë¥¼ í†µí•´ ìš”ì†Œë¥¼ ë°˜ë³µí•˜ê±°ë‚˜ map, filter, reduce ë“±ì˜ ê³ ì°¨ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ `Sequence` ì˜ ìš”ì†Œë¥¼ ì²˜ë¦¬í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. 

<br>

### âœ… êµ¬í˜„

`Sequence` ê°€ ìš”êµ¬í•˜ëŠ” required method ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

~~~ swift
public protocol Sequence<Element> {
    ...
    func makeIterator() -> Self.Iterator
    ...
}
~~~

ë¦¬í„´ íƒ€ì…ì´ `Iterator` ì´ê¸° ë•Œë¬¸ì— `IteratorProtocol` ì„ ì±„íƒí•˜ëŠ” íƒ€ì…ì„ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤.

ë§Œì•½ `Sequence` ë¥¼ ì§ì ‘ ì±„íƒí•˜ì—¬ ì‚¬ìš©í•˜ì—¬ì•¼ í•œë‹¤ë©´ `IteratorProtocol` ë„ í•´ë‹¹ íƒ€ì…ì— í•¨ê»˜ ì±„íƒí•˜ì—¬ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ì•„ë˜ ì˜ˆì‹œëŠ” ê³µì‹ë¬¸ì„œì—ì„œ ì„¤ëª…í•˜ëŠ” ì‚¬ìš©ì ì •ì˜ íƒ€ì…ì„ `Sequence` ì™€ `IteratorProtocol` ì„ ì±„íƒí•˜ì—¬ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

~~~ swift
struct Countdown: Sequence, IteratorProtocol {
    var count: Int


    mutating func next() -> Int? {
        if count == 0 {
            return nil
        } else {
            defer { count -= 1 }
            return count
        }
    }
}


let threeToGo = Countdown(count: 3)
for i in threeToGo {
    print(i)
}
// Prints "3"
// Prints "2"
// Prints "1"
~~~

<br>

### âœ… ì»´íŒŒì¼ëŸ¬ê°€ for-in ë£¨í”„ë¥¼ ë§Œë‚˜ë©´?

ì»´íŒŒì¼ëŸ¬ê°€ for-in ë£¨í”„ë¥¼ ë§Œë‚¬ì„ ë•Œ ë‚´ë¶€ì ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

~~~ swift
let quakes = [1, 2, 3]
for quake in quakes { }
~~~
- ì¼ë°˜ì ì¸ ë°˜ë³µë¬¸ì˜ í˜•íƒœ ì…ë‹ˆë‹¤.

~~~ swift
var iterator = quakes.makeIterator()
while let quake = iterator.next() {

}
~~~
- ì´ë•Œ ì»´íŒŒì¼ëŸ¬ëŠ” iterator ë¥¼ ìƒì„±í•˜ê³  while ë£¨í”„ë¡œ ë³€í™˜ì‹œí‚¨ë‹¤ê³  í•©ë‹ˆë‹¤.

<br>

### âš ï¸ ì°¸ê³  ìë£Œ
- [Apple Documentation - Sequence](https://developer.apple.com/documentation/swift/sequence)
- [Apple Documentation - Meet AsyncSequence WWDC](https://developer.apple.com/videos/play/wwdc2021/10058/)
- [Blog - Sequence](https://zeddios.tistory.com/1340)
