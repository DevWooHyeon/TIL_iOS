# TIL

### ğŸ”¥ AppDelegate, SceneDelegate

**iOS12 ê¹Œì§€ AppDelegate ê°€ UILifecycle ê¹Œì§€ ê´€ë¦¬ í•˜ì˜€ì§€ë§Œ**

**iOS13 ë¶€í„° UILifecycle ì€ SceneDelegate ë¡œ ë‚˜ë‰˜ì–´ì ¸ì„œ ê´€ë¦¬í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.**

- iOS12 and earlier
<img width="600" src="https://github.com/Developer-Nova/TIL_iOS/assets/123448121/806baf1b-1a7f-405d-9ee7-ec208cd16f83">

- iOS13 and later
<img width="600" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-21 á„‹á…©á„’á…® 5 45 29" src="https://github.com/Developer-Nova/TIL_iOS/assets/123448121/78ebfbb0-a5f8-4628-83fa-25456bfa301f">

#

**AppDelegate ì˜ UI ê´€ë ¨ ë©”ì„œë“œê°€ SceneDelegate ë¡œ ë°”ë€Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.**

<img width="600" src="https://github.com/Developer-Nova/TIL_iOS/assets/123448121/e3d57978-05d4-4f27-af37-4e7d5714c02e">

#

**ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ í™•ì¸í•´ë³´ë©´ AppDelegate ì— UISceneSession Lifecycle ì´ ì¶”ê°€ëœê±¸ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

<img width="600" src="https://github.com/Developer-Nova/TIL_iOS/assets/123448121/ef627a18-551e-41b2-affd-fdfd5b51116b">

- í•˜ë‚˜ ì´ìƒì˜ Scene ì„ ìƒì„±í•˜ê±°ë‚˜ ì‚­ì œí• ë•Œ AppDelegate ì— ì•Œë¦¬ëŠ” ë‘ê°€ì§€ ë©”ì„œë“œê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- UISceneSession ì€ ì•±ì—ì„œ ìƒì„±í•œ ëª¨ë“  Scene ì— ëŒ€í•œ ì •ë³´ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

#

**SceneDelegate ë„ í™•ì¸í•´ë³´ë©´ UILifecycle ê´€ë ¨ ë©”ì„œë“œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

<img width="600" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-01-21 á„‹á…©á„’á…® 6 16 09" src="https://github.com/Developer-Nova/TIL_iOS/assets/123448121/5a475d8a-afc6-487d-a379-fbccfca3aac8">

#

#### âœ… Scene ì´ë€?

iOS13 ë¶€í„° ë„ì…ëœ ê°œë…ì…ë‹ˆë‹¤.

UIKit ì€ UIWindowScene ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì•± UI ì˜ ê° ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

Scene ì€ UIì˜ í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í‘œì‹œí•˜ê¸° ìœ„í•œ window ì™€ ViewController ê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ê° Scene ì—ëŠ” UIKit ê³¼ ì•± ê°„ì˜ ìƒí˜¸ ì‘ìš©ì„ ì¡°ì •í•˜ëŠ”ë° ì‚¬ìš©ë˜ëŠ” í•´ë‹¹ UIWindowSceneDelegate ê°ì²´ë„ ìˆìŠµë‹ˆë‹¤.

Scene ì€ ì„œë¡œ ë™ì‹œì— ì‹¤í–‰ë˜ì–´ ë™ì¼í•œ ë©”ëª¨ë¦¬ì™€ ì•± í”„ë¡œì„¸ìŠ¤ ê³µê°„ì„ ê³µìœ í•©ë‹ˆë‹¤.

**ê²°ê³¼ì ìœ¼ë¡œ ë‹¨ì¼ ì•±ì—ì„œ ì—¬ëŸ¬ Scene ê³¼ scene delegate ê°ì²´ë¥¼ ë™ì‹œì— í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.**

(í•˜ë‚˜ì˜ ì•±ì„ ë™ì‹œì— ì¼¤ ìˆ˜ ìˆë‹¤!!)

#

#### âœ… Scene Session ì´ë€?

UISceneSession ê°ì²´ëŠ” scene ì˜ ê³ ìœ í•œ ëŸ°íƒ€ì„ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.

ì‚¬ìš©ìê°€ ì•±ì— ìƒˆ scene ì„ ì¶”ê°€í•˜ê±°ë‚˜ í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ìš”ì²­í•˜ë©´ ì‹œìŠ¤í…œì€ í•´ë‹¹ scene ì„ ì¶”ì í•˜ê¸° ìœ„í•´ session ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

í•´ë‹¹ session ì—ëŠ” scene ì˜ ê³ ìœ  ì‹ë³„ìì™€ êµ¬ì„± ì„¸ë¶€ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.

UIKit ì€ scene ìì²´ì˜ ìˆ˜ëª… ë™ì•ˆ session ì •ë³´ë¥¼ ìœ ì§€í•˜ë©° ì‚¬ìš©ìê°€ app switcher ì—ì„œ scene ì„ ë‹«ëŠ” ê²ƒì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ session ì„ ì‚­ì œí•©ë‹ˆë‹¤.

session ê°ì²´ë¥¼ ì§ì ‘ ìƒì„±í•˜ì§€ ì•Šê³  UIKit ì´ ì•±ê³¼ì˜ ì‚¬ìš©ì ìƒí˜¸ì‘ìš©ì— ì‘ë‹µí•˜ì—¬ session ì„ ìƒì„±í•©ë‹ˆë‹¤.

ë˜í•œ ìƒˆë¡œìš´ scene ê³¼ session ì„ AppDelegate ì˜ UISceneSession Lifecycle ë©”ì„œë“œë¥¼ í†µí•´ í”„ë¡œê·¸ë˜ë°ì  ë°©ì‹ìœ¼ë¡œ ìƒì„±í•˜ë„ë¡ UIKit ì— ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#

#### âœ… iOS13 ì´í›„, AppDelegate ê°€ í•˜ëŠ” ì¼ì€?

iOS13 ì´í›„ ë¶€í„°ëŠ” AppDelegate ê°€ ì•±ì´ foreground ì— ë“¤ì–´ê°€ê±°ë‚˜ background ë¡œ ì´ë™í•  ë•Œ ì•±ì˜ ìƒíƒœë¥¼ ì—…ë°ì´íŠ¸ í•˜ëŠ” ë“±ì˜ ì£¼ìš” ìƒëª… ì£¼ê¸° ì´ë²¤íŠ¸ë¥¼ ê´€ë¦¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

iOS13 ì´í›„ AppDelegate ê°€ í•˜ëŠ”ì¼
- ì•±ì˜ ì¤‘ìš”í•œ ë°ì´í„° êµ¬ì¡°ë¥¼ ì´ˆê¸°í™” í•©ë‹ˆë‹¤.
- ì•±ì˜ scene ì„ ì„¤ì •í•©ë‹ˆë‹¤.
- ì•±ì˜ ì™¸ë¶€ì—ì„œ ë°œìƒí•œ ì•Œë¦¼(ë©”ëª¨ë¦¬ ë¶€ì¡±, ë‹¤ìš´ë¡œë“œ ì™„ë£Œ)ì— ì‘ë‹µí•©ë‹ˆë‹¤.
- íŠ¹ì •í•œ scene, views, view controller ì— êµ­í•œë˜ì§€ ì•Šê³  ì•± ìì²´ë¥¼ íƒ€ê²Ÿí•˜ëŠ” ì´ë²¤íŠ¸ì— ì‘ë‹µí•©ë‹ˆë‹¤.
- Apple í‘¸ì‹œ ì•Œë¦¼ ì„œë¹„ìŠ¤ì™€ ê°™ì´ ì‹¤í–‰ì‹œ í•„ìš”í•œ ì„œë¹„ìŠ¤ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.

#

#### âœ… AppDelegate ì˜ ê¸°ë³¸ ë©”ì„œë“œ

~~~ swift
func application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -> Bool {
        return true
    }
- ëŒ€ë¦¬ìì—ê²Œ ì‹œì‘ í”„ë¡œì„¸ìŠ¤ê°€ ê±°ì˜ ì™„ë£Œë˜ì—ˆìœ¼ë©° ì•±ì„ ì‹¤í–‰í•  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆìŒì„ ì•Œë¦¼

    // MARK: UISceneSession Lifecycle

func application(_ application: UIApplication, configurationForConnecting connectingSceneSession: UISceneSession, options: UIScene.ConnectionOptions) -> UISceneConfiguration {
        return UISceneConfiguration(name: "Default Configuration", sessionRole: connectingSceneSession.role)
    }
- ìƒˆë¡œìš´ scene ì„ ë§Œë“¤ë•Œ ì‚¬ìš©í•  UIKit ì˜ êµ¬ì„± ë°ì´í„°ë¥¼ ê²€ìƒ‰

func application(_ application: UIApplication, didDiscardSceneSessions sceneSessions: Set<UISceneSession>) {
    }
- ìœ ì €ê°€ app switcher ì—ì„œ í•˜ë‚˜ ì´ìƒì˜ scene ì„ ë‹«ì•˜ìŒì„ ì•Œë¦¼
~~~

#

#### âœ… SceneDelegate ì˜ ê¸°ë³¸ ë©”ì„œë“œ

~~~ swift
func scene(_ scene: UIScene, willConnectTo session: UISceneSession, options connectionOptions: UIScene.ConnectionOptions) {
        guard let _ = (scene as? UIWindowScene) else { return }
    }
- ì•±ì˜ scene ì¶”ê°€ì— ëŒ€í•´ ëŒ€ë¦¬ìì—ê²Œ ì•Œë¦¼

func sceneDidDisconnect(_ scene: UIScene) { }
- UIKit ì´ ì•±ì—ì„œ scene ì„ ì œê±°í–ˆìŒì„ ëŒ€ë¦¬ìì—ê²Œ ì•Œë¦¼

func sceneDidBecomeActive(_ scene: UIScene) { }
- scene ì´ í™œì„±í™”ë˜ì–´ ì‚¬ìš©ì ì´ë²¤íŠ¸ì— ì‘ë‹µí•˜ê³  ìˆìŒì„ ëŒ€ë¦¬ìì—ê²Œ ì•Œë¦¼

func sceneWillResignActive(_ scene: UIScene) { }
- scene ì´ í™œì„± ìƒíƒœë¥¼ ì¢…ë£Œí•˜ê³  ì‚¬ìš©ì ì´ë²¤íŠ¸ì— ëŒ€í•œ ì‘ë‹µì„ ì¤‘ì§€í•˜ë ¤ê³  í•¨ì„ ëŒ€ë¦¬ìì—ê²Œ ì•Œë¦¼

func sceneWillEnterForeground(_ scene: UIScene) { }
- scene ì´ foreground ì—ì„œ ì‹¤í–‰ë˜ê¸° ì‹œì‘í•˜ê³  ì‚¬ìš©ìì—ê²Œ í‘œì‹œë  ê²ƒì„ì„ ëŒ€ë¦¬ìì—ê²Œ ì•Œë¦¼

func sceneDidEnterBackground(_ scene: UIScene) { }
- scene ì´ bachground ì—ì„œ ì‹¤í–‰ ì¤‘ì´ë©° ë” ì´ìƒ í™”ë©´ì— í‘œì‹œë˜ì§€ ì•ŠìŒì„ ëŒ€ë¦¬ìì—ê²Œ ì•Œë¦¼
~~~

#

### âš ï¸ ì°¸ê³ ìë£Œ 
- [Apple Documentation - Managing your appâ€™s life cycle](https://developer.apple.com/documentation/uikit/app_and_environment/managing_your_app_s_life_cycle)
- [Apple Documentation - Architecting Your App for Multiple Windows WWDC](https://developer.apple.com/videos/play/wwdc2019/258/)
- [Blog - AppDelegateì™€ SceneDelegate](https://velog.io/@dev-lena/iOS-AppDelegate%EC%99%80-SceneDelegate)
- [Blog - Viewì˜ í˜•ì„±ê³¼ì •(window, rootView, Mainí•¨ìˆ˜, Appdelegate)](https://velog.io/@yongchul/iOSView%EC%9D%98-%ED%98%95%EC%84%B1%EA%B3%BC%EC%A0%95)
