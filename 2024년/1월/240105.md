# TIL

**í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¬ë•Œ textView ë¥¼ ê°€ë¦¬ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤!** 

### ğŸ”¥ Notification ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

#### âœ… NotificationCenter ì— ì´ë²¤íŠ¸ ë“±ë¡
~~~ swift
override func viewDidLoad() {
    setUpNotification()
}
    
private func setUpNotification() {
    NotificationCenter.default.addObserver(self, selector: #selector(keyboardWillShow), name: UIResponder.keyboardWillShowNotification, object: nil)
    NotificationCenter.default.addObserver(self, selector: #selector(keyboardWillHide), name: UIResponder.keyboardWillHideNotification, object: nil)
}
// UIResponder.keyboardWillShowNotification : í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¬ë•Œì˜ Notification
// UIResponder.keyboardWillHideNotification : í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°ˆë•Œì˜ Notification
~~~

í‚¤ë³´ë“œê°€ ì˜¬ë¼ê°€ê³  ë‚´ë ¤ê°ˆë•Œ ë§ˆë‹¤ `NotificationCnter` ë¥¼ í†µí•´ ì´ë²¤íŠ¸ë¥¼ ë°›ì„ ìˆ˜ ìˆê³ 

í•´ë‹¹ ì´ë²¤íŠ¸ë¥¼ ë°›ì„ë•Œë§ˆë‹¤ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ textView ì˜ ë†’ì´ë¥¼ ì¡°ì ˆí•©ë‹ˆë‹¤. 

***

#### âœ… í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¬ë•Œ
~~~ swift
@objc private func keyboardWillShow(_ notification: Notification) {
    guard let userInfo = notification.userInfo as NSDictionary?,
          var keyboardFrame = (userInfo[UIResponder.keyboardFrameEndUserInfoKey] as? NSValue)?.cgRectValue else {
        return
    }
    
    textView.contentInset.bottom = keyboardFrame.size.height
    textView.scrollIndicatorInsets = textView.contentInset
}
~~~

í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¬ë•Œ textView ì˜ `contentInset` ì„ ì¡°ì •í•©ë‹ˆë‹¤.

í‚¤ë³´ë“œì˜ í”„ë ˆì„ì„ êµ¬í•˜ê³  textViewì˜ contentInsetì˜ bottomì„ í‚¤ë³´ë“œì˜ ë†’ì´ ë§Œí¼ ì§€ì •í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ textViewì˜ bottom contentInsetì´ ë” ì»¤ì ¸ ë‚´ìš©ì´ ê°€ë ¤ì§€ì§€ ì•Šê²Œ ë©ë‹ˆë‹¤.

***

#### âœ… í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°ˆë•Œ
~~~ swift
@objc private func keyboardWillHide(_ notification: Notification) {
    textView.contentInset = UIEdgeInsets.zero
    textView.scrollIndicatorInsets = textView.contentInset
}
~~~

í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°ˆ ë•ŒëŠ” contentInsetì„ ì›ë˜ì˜ ìƒíƒœë¡œ ëŒë ¤ì¤ë‹ˆë‹¤.

***

### ğŸ”¥ Keyboard Layout Guide ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

~~~ swift
self.view.keyboardLayoutGuide.topAnchor.constraint(equalTo: textView.bottomAnchor).isActive = true
~~~

`Keyboard Layout Guide` ë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì¡í•œ ì•Œë¦¼ì´ë‚˜ ê³„ì‚°ì´ í•„ìš”í•˜ì§€ ì•Šê³  ìœ„ì˜ ì½”ë“œ í•œì¤„ë¡œ ëŒ€ì²´ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

***

#### âœ… í‚¤ë³´ë“œê°€ ì˜¬ë¼ì˜¬ë•Œ

textView ì˜ bottomAnchor ì™€ í‚¤ë³´ë“œì˜ topAnchor ê°€ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— textView ê°€ í‚¤ë³´ë“œë³´ë‹¤ ìœ„ì— ìœ„ì¹˜í•˜ê²Œ ë©ë‹ˆë‹¤.

***

#### âœ… í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°ˆë•Œ

í‚¤ë³´ë“œì˜ topAnchor ê°€ textview ì˜ bottomAnchor ì™€ ë™ì¼í•˜ê¸° ë•Œë¬¸ì— í‚¤ë³´ë“œê°€ ë‚´ë ¤ê°€ë„ view ëŠ” ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ê²Œ ë©ë‹ˆë‹¤.

~~~
 Keyboard Layout Guide ëŠ” iOS ë²„ì „ 15.0 ë¶€í„° ì‚¬ìš©ê°€ëŠ¥í•©ë‹ˆë‹¤.
~~~

***

### âš ï¸ ì°¸ê³ ìë£Œ
- [Apple Documentation - Adjusting Your Layout with Keyboard Layout Guide](https://developer.apple.com/documentation/uikit/keyboards_and_input/adjusting_your_layout_with_keyboard_layout_guide)
- [Blog - keyboardê°€ TextViewë¥¼ ê°€ë¦´ ë•Œ](https://velog.io/@qudgh849/keyboard%EA%B0%80-TextView%EB%A5%BC-%EA%B0%80%EB%A6%B4-%EB%95%8C)
- [Blog - WWDC 2021 - Your guide to keyboard layout](https://nyancoder.tistory.com/43)
